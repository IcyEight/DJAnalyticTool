<!DOCTYPE html>
<html>
<head>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<title>DJ Analyzer</title>

<script src="./canvasjs.min.js"></script>

</head>
<body>

	<script type="text/javascript">
		function getData(){
			$.ajax({
				type: "GET",
				url: '/songData',
				success: function(data){
					console.log(JSON.stringify(data));
					var points = []
					var j = 0;

					data.forEach(function(i){
						points.push({ x: j+=1, y: i.tempo})
					})

					console.log(JSON.stringify(points));

					var chart = new CanvasJS.Chart("chartContainer", {
					title: {
						text: "Line Chart"
					},
					axisX: {
						interval: 10
					},
					data: [{
						type: "line",
						dataPoints: points
						}]
					});
					chart.render();
					}
				})
			}
			getData();
			
	</script>


	<div id="chartContainer" style="height: 400px; width: 100%;"></div>

</body>
</html>